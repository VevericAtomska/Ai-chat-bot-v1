<button class="chat-open-button" (click)="toggleChat()">Chat with us</button>
<div class="chat-popup" [class.chat-opened]="chatOpened">
    <div class="chat-container">
  <div class="chat-header">
      <p style="font-family: 'Poppins SemiBold', serif">Chat with us</p>
        <button class="chat-close-button" (click)="toggleChat()">Ã—</button>
        </div>
  </div>
  <div class="chat-messages">
<ng-container *ngFor="let message of messages" >

  <div *ngIf="message.user === 'You'" class="user-message">
    {{ message.text }}
  </div>
  <div *ngIf="message.user === 'Bot' " class="bot-message" [innerHTML]="formatMessage(message) ">


    {{ message.text }}
  </div>
  <ng-container *ngIf="message.custom">
    <div *ngFor="let jacket of lastShownJackets" class="jacket-listing">
  <div class="jacket-info" (click)="viewJacketDetails(jacket.clothesId)"><img [src]="getImagePath(jacket.image)" alt="{{ jacket.name }}" width="50" height="50" class="jacket-image">
         <p><strong>Name:</strong>{{ jacket.name }}</p>
      <p><strong>Price:</strong> {{ jacket.price | currency }}</p>
      <p><strong>Brand:</strong> {{ jacket.brand }}</p>
      <p><strong>Description:</strong> {{ jacket?.description }}</p>
      <p><strong>Rating:</strong> {{ jacket?.stars }}/5</p>
      <p><strong>Size:</strong> {{ jacket.size?.join(', ') }}</p>
      <p><strong>Category:</strong> {{ jacket.category }}</p>
      <p><strong>Manufactured Date:</strong> {{ jacket.manufacture_date | date }}</p>
          <button  (click)="handleButton({intent: 'view_details', id: jacket.clothesId})">
              View Details
          </button>
            <button  (click)="handleButton({intent: 'add_to_basket', id: jacket.clothesId})">
                Add to Basket
            </button>
  </div>
</div>
 </ng-container>
</ng-container>
<div class="chat-footer">
            <input [(ngModel)]="userMessage" (keyup.enter)="sendMessage()" placeholder="Enter your message..." />
            <button (click)="sendMessage()">
               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-activity">
                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-feather">
                       <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path>
                       <line x1="16" y1="8" x2="2" y2="22"></line>
                       <line x1="17" y1="15" x2="9" y2="15"></line>
                   </svg></svg>
</button>
</div>
</div>

</div>